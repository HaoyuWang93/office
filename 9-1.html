
<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>MIA-203?/??/??</title>
<script src="aframe/aframe.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" href="css/custom.css">
<meta name="viewport" content="width=device-width, initial-scale=1">

<div style='position: fixed;
top: 15px;
left: 20px;
width:100%;
text-align: left;
z-index: 1;'>
  <a href="https://haoyuwang93.github.io/anotherfuture/"><button class="button">HOME</button></a>
</div>

</head>

<body>

<script>
  AFRAME.registerComponent("weblink", {
  schema: {
    url: {
      default: ""
    }
  },
  init: function() {
    this.el.addEventListener("click", (e) => {
      window.location = this.data.url;
    })
  }
})

AFRAME.registerComponent("audiohandler", {
  init:function() {
     let playing = false;
     let audio = document.querySelector("#wind");
     let sound = document.querySelector("#sound");
     this.el.addEventListener("click", () => {
          if(!playing) {
              sound.setAttribute("src", "#windon");
              audio.play();
           } else {
              audio.pause();
              sound.setAttribute("src", "#windoff");
              audio.currentTime = 0;
           }
           playing = !playing;
     });
  }
})

</script>

<a-scene raycaster="objects: .clickable" cursor="rayOrigin: mouse; fuse:false"
loading-screen="dotsColor: white; backgroundColor: black">

  <a-assets>
    <img id="sky" src="images/ar.jpg" alt="background">
    <img id="exit" src="images/exit.png" alt="next page">
    <img id="windon" src="images/wind.png" alt="">
    <img id="windoff" src="images/windoff.png" alt="">
    <audio id="wind" src="audio/wind.wav" preload="auto"></audio>
  </a-assets>

  <a-sky src="#sky" rotation="0 -90 0"></a-sky>

   <a-image id="out" class="clickable"
      src= "#exit"
      animation__flash="property: opacity; from: 1; to: 0; dur: 600; dir: alternate; loop: true"
      width="0.5" height="0.5"
      position="0 1.5 1.5"
      rotation="0 180 0"
      opacity=0.8
      weblink="url: 9-0.html">
   </a-image>

   <a-text value="Welcome to OFF GRID!
   Setting: wild-night 045
   Temperature: 19Â°C
   Humidity: 34%"
   width="1.5" position="0.8 1.6 -1" rotation="0 -45 0" opacity="0.5" line-height="60"></a-text>

   <a-image id="sound" class="clickable" src="#windoff" position="0.9 1.25 -1" rotation="0 -45 0" opacity="0.5" width="0.2" height="0.2"
      animation__flash="property: opacity; to: 0; dur: 1000; dir: alternate; loop: true"
      sound="src: #wind; loop: true"
      audiohandler></a-image>

</a-scene>

</body>
</html
